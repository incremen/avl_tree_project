
==============================
Exception during test:
Traceback (most recent call last):
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 262, in test_amir_balance_factor_accuracy
    self.assertAlmostEqual(self.tree.get_amir_balance_factor(), self._manual_amir_ratio(), places=6)
                                                                ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 251, in _manual_amir_ratio
    total, zeros = dfs(self.tree.get_root())
                   ~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 246, in dfs
    l_tot, l_zero = dfs(_get_left(node))
                    ~~~^^^^^^^^^^^^^^^^^
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 246, in dfs
    l_tot, l_zero = dfs(_get_left(node))
                    ~~~^^^^^^^^^^^^^^^^^
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 246, in dfs
    l_tot, l_zero = dfs(_get_left(node))
                    ~~~^^^^^^^^^^^^^^^^^
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 247, in dfs
    r_tot, r_zero = dfs(_get_right(node))
                    ~~~^^^^^^^^^^^^^^^^^^
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 249, in dfs
    zeros = l_zero + r_zero + (1 if getattr(node, "get_bf")() == 0 else 0)
                                    ~~~~~~~^^^^^^^^^^^^^^^^
AttributeError: 'AVLNode' object has no attribute 'get_bf'
Last operation: insert(7,7)

State before operation:
                                                                                                                                                     k 14, h 5                                                                                                                          
                                                      ______________________________________________________________________________________________/         \__________________________________________________                                                                       
                                              k 4, h 4                                                                                                                                                           k 19, h 3                                                              
                                _____________/        \___________________________________                                                                                                        ______________/         \______________                                               
                        k 2, h 2                                                          k 9, h 3                                                                                       k 17, h 2                                       k 21, h 2                                      
          _____________/        \__                                         _____________/        \__________________________                                             ______________/         \__                                 __/         \______________                       
  k 0, h 1                         k 3, h 0                         k 6, h 1                                                 k 12, h 2                           k 15, h 1                           k 18, h 0               k 20, h 0                           k 23, h 1              
 /        \__                     /        \                     __/        \__                                           __/         \__                       /         \__                       /         \             /         \                       __/         \__           
#            k 1, h 0            #          #            k 5, h 0              k 8, h 0                          k 11, h 1               k 13, h 0             #             k 16, h 0             #           #           #           #             k 22, h 0               k 24, h 0  
            /        \                                  /        \            /        \                      __/         \             /         \                         /         \                                                             /         \             /         \ 
           #          #                                #          #          #          #            k 10, h 0             #           #           #                       #           #                                                           #           #           #           #
                                                                                                    /         \                                                                                                                                                                         
                                                                                                   #           #                                                                                                                                                                        
State after operation:
                                                                                                                                                                k 14, h 5                                                                                                                          
                                                      _________________________________________________________________________________________________________/         \__________________________________________________                                                                       
                                              k 4, h 4                                                                                                                                                                      k 19, h 3                                                              
                                _____________/        \______________________________________________                                                                                                        ______________/         \______________                                               
                        k 2, h 2                                                                     k 9, h 3                                                                                       k 17, h 2                                       k 21, h 2                                      
          _____________/        \__                                         ________________________/        \__________________________                                             ______________/         \__                                 __/         \______________                       
  k 0, h 1                         k 3, h 0                         k 6, h 2                                                            k 12, h 2                           k 15, h 1                           k 18, h 0               k 20, h 0                           k 23, h 1              
 /        \__                     /        \                     __/        \_____________                                           __/         \__                       /         \__                       /         \             /         \                       __/         \__           
#            k 1, h 0            #          #            k 5, h 0                         k 8, h 1                          k 11, h 1               k 13, h 0             #             k 16, h 0             #           #           #           #             k 22, h 0               k 24, h 0  
            /        \                                  /        \                     __/        \                      __/         \             /         \                         /         \                                                             /         \             /         \ 
           #          #                                #          #            k 7, h 0            #            k 10, h 0             #           #           #                       #           #                                                           #           #           #           #
                                                                              /        \                       /         \                                                                                                                                                                         
                                                                             #          #                     #           #                                                                                                                                                                        
==============================

==============================
Exception during test:
Traceback (most recent call last):
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 262, in test_amir_balance_factor_accuracy
    self.assertAlmostEqual(self.tree.get_amir_balance_factor(), self._manual_amir_ratio(), places=6)
                                                                ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 251, in _manual_amir_ratio
    total, zeros = dfs(self.tree.get_root())
                   ~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 246, in dfs
    l_tot, l_zero = dfs(_get_left(node))
                    ~~~^^^^^^^^^^^^^^^^^
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 246, in dfs
    l_tot, l_zero = dfs(_get_left(node))
                    ~~~^^^^^^^^^^^^^^^^^
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 246, in dfs
    l_tot, l_zero = dfs(_get_left(node))
                    ~~~^^^^^^^^^^^^^^^^^
  [Previous line repeated 1 more time]
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 249, in dfs
    zeros = l_zero + r_zero + (1 if getattr(node, "get_bf")() == 0 else 0)
                                    ~~~~~~~^^^^^^^^^^^^^^^^
AttributeError: 'AVLNode' object has no attribute 'get_bf'
Last operation: insert(14,14)

State before operation:
                                                                                                                            k 11, h 4                                                                                                                                                  
                                                                 __________________________________________________________/         \______________________________________________________________________________________                                                           
                                                         k 5, h 3                                                                                                                                                           k 20, h 3                                                  
                                           _____________/        \___________________________________                                                                                ______________________________________/         \______________                                   
                                   k 3, h 2                                                          k 9, h 2                                                               k 16, h 2                                                               k 22, h 2                          
                     _____________/        \__                                         _____________/        \__                                             ______________/         \______________                                             __/         \__                       
             k 1, h 1                         k 4, h 0                         k 7, h 1                         k 10, h 0                           k 13, h 1                                       k 18, h 1                           k 21, h 0               k 23, h 1              
          __/        \__                     /        \                     __/        \__                     /         \                       __/         \__                                 __/         \__                       /         \             /         \__           
  k 0, h 0              k 2, h 0            #          #            k 6, h 0              k 8, h 0            #           #             k 12, h 0               k 15, h 0               k 17, h 0               k 19, h 0             #           #           #             k 24, h 0  
 /        \            /        \                                  /        \            /        \                                    /         \             /         \             /         \             /         \                                                 /         \ 
#          #          #          #                                #          #          #          #                                  #           #           #           #           #           #           #           #                                               #           #
State after operation:
                                                                                                                            k 11, h 5                                                                                                                                                              
                                                                 __________________________________________________________/         \__________________________________________________________________________________________________                                                           
                                                         k 5, h 3                                                                                                                                                                       k 20, h 4                                                  
                                           _____________/        \___________________________________                                                                                            ______________________________________/         \______________                                   
                                   k 3, h 2                                                          k 9, h 2                                                                           k 16, h 3                                                               k 22, h 2                          
                     _____________/        \__                                         _____________/        \__                                             __________________________/         \______________                                             __/         \__                       
             k 1, h 1                         k 4, h 0                         k 7, h 1                         k 10, h 0                           k 13, h 2                                                   k 18, h 1                           k 21, h 0               k 23, h 1              
          __/        \__                     /        \                     __/        \__                     /         \                       __/         \______________                                 __/         \__                       /         \             /         \__           
  k 0, h 0              k 2, h 0            #          #            k 6, h 0              k 8, h 0            #           #             k 12, h 0                           k 15, h 1               k 17, h 0               k 19, h 0             #           #           #             k 24, h 0  
 /        \            /        \                                  /        \            /        \                                    /         \                       __/         \             /         \             /         \                                                 /         \ 
#          #          #          #                                #          #          #          #                                  #           #             k 14, h 0             #           #           #           #           #                                               #           #
                                                                                                                                                               /         \                                                                                                                         
                                                                                                                                                              #           #                                                                                                                        
==============================

==============================
Exception during test:
Traceback (most recent call last):
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 210, in test_random_insert_delete_structure
    self._assert_avl_invariants(self.tree.get_root())
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 125, in _assert_avl_invariants
    lh = self._assert_avl_invariants(_get_left(node))
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 126, in _assert_avl_invariants
    rh = self._assert_avl_invariants(_get_right(node))
  File "/Users/itamar/vscode_projects/avl_tree_project/abdul_test.py", line 131, in _assert_avl_invariants
    self.assertEqual(stored_h, max(lh, rh) + 1,
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
                     f"Height mismatch at key {_get_value(node)}")
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 907, in assertEqual
    assertion_func(first, second, msg=msg)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 900, in _baseAssertEqual
    raise self.failureException(msg)
AssertionError: 3 != 2 : Height mismatch at key 26
Last operation: delete(22)

State before operation:
                                                                                                                                                                                                                                 k 37, h 5                                                                                                                                      
                                                                                                                                                      __________________________________________________________________________/         \______________________________________________________________                                                                       
                                                                                                                                             k 22, h 4                                                                                                                                                   k 52, h 4                                                              
                                                                              ______________________________________________________________/         \______________________________________                                                                                 __________________________/         \______________________________________                       
                                                                     k 11, h 3                                                                                                               k 26, h 3                                                               k 40, h 2                                                                           k 58, h 3              
                                           _________________________/         \__________________________                                                         __________________________/         \______________                                 ______________/         \__                                             __________________________/         \__           
                                   k 7, h 2                                                              k 16, h 2                                       k 23, h 2                                                   k 29, h 1               k 38, h 1                           k 48, h 1                           k 53, h 2                                       k 59, h 1  
                     _____________/        \__                                                        __/         \__                                   /         \______________                                 __/         \             /         \__                       /         \__                       /         \__                                   /         \ 
             k 1, h 1                         k 8, h 1                                       k 15, h 1               k 18, h 1                         #                         k 25, h 1               k 27, h 0             #           #             k 39, h 0             #             k 49, h 0             #             k 55, h 1                         #           #
          __/        \__                     /        \__                                 __/         \             /         \__                                             __/         \             /         \                                     /         \                         /         \                         /         \__                                   
  k 0, h 0              k 3, h 0            #            k 10, h 0               k 12, h 0             #           #             k 19, h 0                           k 24, h 0             #           #           #                                   #           #                       #           #                       #             k 56, h 0                          
 /        \            /        \                       /         \             /         \                                     /         \                         /         \                                                                                                                                                             /         \                         
#          #          #          #                     #           #           #           #                                   #           #                       #           #                                                                                                                                                           #           #                        
State after operation:
                                                                                                                                                                                                                     k 37, h 5                                                                                                                                      
                                                                                                                                                      ______________________________________________________________/         \______________________________________________________________                                                                       
                                                                                                                                             k 23, h 4                                                                                                                                       k 52, h 4                                                              
                                                                              ______________________________________________________________/         \__________________________                                                                                 __________________________/         \______________________________________                       
                                                                     k 11, h 3                                                                                                   k 26, h 3                                                               k 40, h 2                                                                           k 58, h 3              
                                           _________________________/         \__________________________                                                                     __/         \______________                                 ______________/         \__                                             __________________________/         \__           
                                   k 7, h 2                                                              k 16, h 2                                                   k 25, h 1                           k 29, h 1               k 38, h 1                           k 48, h 1                           k 53, h 2                                       k 59, h 1  
                     _____________/        \__                                                        __/         \__                                             __/         \                       __/         \             /         \__                       /         \__                       /         \__                                   /         \ 
             k 1, h 1                         k 8, h 1                                       k 15, h 1               k 18, h 1                           k 24, h 0             #             k 27, h 0             #           #             k 39, h 0             #             k 49, h 0             #             k 55, h 1                         #           #
          __/        \__                     /        \__                                 __/         \             /         \__                       /         \                         /         \                                     /         \                         /         \                         /         \__                                   
  k 0, h 0              k 3, h 0            #            k 10, h 0               k 12, h 0             #           #             k 19, h 0             #           #                       #           #                                   #           #                       #           #                       #             k 56, h 0                          
 /        \            /        \                       /         \             /         \                                     /         \                                                                                                                                                                                     /         \                         
#          #          #          #                     #           #           #           #                                   #           #                                                                                                                                                                                   #           #                        
==============================
